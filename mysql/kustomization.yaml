apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: app-mysql
resources:
  - namespace.yaml
  - secret.yaml
  - service.yaml
  - statefulset.yaml
# - demoapp.yaml
  - operator.yaml
  - minio/minio-standalone-deployment.yaml
  - minio/minio-standalone-pvc.yaml
  - minio/minio-standalone-service.yaml
images:
- name: quay.io/cybozu/mysql
  newName: quay.io/yokaze/mysql
  newTag: 5b5b84
configMapGenerator:
  - name: mysqlconfig
    files:
      - my.cnf
  - name: operator-script
    files:
      - script/setup.sh
      - script/setup-copy.sh
      - script/do.sh
      - script/status.sh
  - name: operator-sql
    files:
      - sql/status.sql
